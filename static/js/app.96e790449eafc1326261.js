webpackJsonp([1],{0:function(t,e){},1:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s=n("NYxO");i.a.use(s.a);var a={name:"App",store:new s.a.Store({state:{count:0},mutations:{increment:function(t){t.count+=1}},actions:{increment:function(t){t.commit("increment")}},getters:{getCount:function(t){return t.count}}}),methods:{}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")(a,o,!1,function(t){n("xXp3")},null,null).exports,l=n("/ocq"),c=n("Xxa5"),u=n.n(c),m=n("exGp"),d=n.n(m),f=n("//Fk"),v=n.n(f),g=n("vwbq"),x=n("7t+N"),p=n("gApy"),C=n.n(p),h=n("lFpG"),D=n.n(h),_=n("Zzkc"),y=n("M4fF"),k=n.n(y),N=n("m2OQ"),b=n.n(N),F=n("6tGF"),R=n.n(F);n("OUwY");var S=g.f().domain([-1,0,1]).range([g.e("#E53935"),g.e("#fff"),g.e("#1E88E5")]),w=g.f().domain([0,1]).interpolate(g.c).range([g.e("#007AFF"),g.e("#ffe011")]);function A(t,e){var n=t/180*Math.PI;return{x:Math.cos(n)*e,y:Math.sin(n)*e}}function E(t){return 180*Math.atan2(t.y-0,t.x-0)/Math.PI}function M(t){return new v.a(function(e){setTimeout(function(){e()},t)})}var z=g.d().x(function(t){return t.x}).y(function(t){return t.y}),T={name:"radvis",components:{picker:_.Compact},data:function(){return{fillRadvis:!1,clusters:[],makeClusterCount:2,isUseA:!1,dimensionFontSize:12,positions:{radvisCenterX:590,radvisCenterY:540},color:{start:{hex:"#007AFF"},end:{hex:"#FFF500"}},colorDimension:"",raw:[],dimensions:[{text:"A",x:0,y:15}],nodes:[],rc:{x:0},x:10,selectDimension:{}}},computed:{getRadvisCenterTransform:function(){return"translate("+this.positions.radvisCenterX+","+this.positions.radvisCenterY+")"},isSelectedDimension:function(){return!k.a.isEmpty(this.selectDimension)},getLineData:function(){var t=this.raw,e=g.f().domain([0,t.length]).interpolate(g.c).range([g.e(this.color.start),g.e(this.color.end)]),n=this.dimensions,i=k.a.filter(n,function(t){return t.usage});return k.a.chain(t).map(function(t,n){return{coord:k.a.map(i,function(e,n){var s=e.getRatio(t[e.text]);return{x:1100/(i.length-1)*n,y:220*s}}),color:e(n)}}).value()}},methods:{colorDimensionCluster:function(t,e){return w(t/e)},getCorrelationColor:function(t){return S(t)},changeDimensionUsage:function(t){t.usage=!t.usage,this.updateNodes()},getDimensionGroupAngle:function(t){return"rotate("+(t+90)+")"},getDimensionTextTransform:function(t){return"translate(0,-30) rotate("+(t<0||t>180?0:180)+")"},getDimensionTextTransformReverse:function(t){return"translate(0,-30) rotate("+(t<0||t>180?180:0)+")"},getDimensionTextVisible:function(t){return t<0||t>180?0:1},onFillRadvis:function(){this.updateNodes()},lining:function(t){return z(t)},doClusterDimension:function(){var t=k.a.filter(this.dimensions,function(t){return t.usage}),e=k.a.filter(this.dimensions,function(t){return!t.usage}),n=k.a.isNil(this.makeClusterCount)?Math.floor(Math.sqrt(t.length)):this.makeClusterCount;R.a.k(n),R.a.iterations(100);var i=k.a.map(t,function(t){return k.a.map(t.correlation,function(t){return t})}),s=k.a.map(t,function(t){return{name:t.name,vals:k.a.map(t.correlation,function(t){return t})}});R.a.data(i),this.clusters=k.a.map(R.a.clusters(),function(t){var e=k.a.map(t.points,function(t){return k.a.find(s,function(e){return k.a.isEqual(e.vals,t)}).name});return{centroid:t.centroid,dimensions:e}});var a=[],o=180/this.clusters.length,r=180/this.dimensions.length,l=0;k.a.map(this.clusters,function(e){k.a.forEach(e.dimensions,function(e){l+=.5*r;var n=k.a.find(t,function(t){return t.name===e});a.push(n);var i=A(l,400);n.x=i.x,n.y=i.y,n.angle=l,l+=.5*r}),l+=o}),k.a.forEach(e,function(t){return a.push(t)}),this.updateNodes(),this.dimensions=a},setColorDimensionCurrentDimension:function(){this.colorDimension=this.selectDimension,this.updateNodes()},setSelectDimension:function(t){console.log("select ",t),k.a.isNil(t)||(this.selectDimension=this.getDimensionByName(t),this.setColorDimensionCurrentDimension())},makeNodeData:function(){var t=this,e=this.raw;k.a.isEmpty(this.colorDimension)&&(this.colorDimension=this.dimensions[0]);var n=g.f().domain([this.colorDimension.min,this.colorDimension.max]).interpolate(g.c).range([g.e(this.color.start.hex),g.e(this.color.end.hex)]),i=this.dimensions,s=k.a.filter(i,function(t){return t.usage}),a=k.a.chain(e).map(function(e,i){var a=k.a.map(s,function(t){var n=t.getRatio(e[t.text]);return{x:t.x*n,y:t.y*n}}),o=k.a.sumBy(a,function(t){return t.x})/s.length,r=k.a.sumBy(a,function(t){return t.y})/s.length;return{cx:o,cy:r,dist:Math.sqrt(o*o+r*r),fill:n(e[t.colorDimension.text]),opacity:.6,dataIndex:i,r:3}}).filter(function(t){return!k.a.isNaN(t.cx)||!k.a.isNaN(t.cy)}).value();if(k.a.isEmpty(a))return[];if(this.fillRadvis){var o=350/k.a.maxBy(a,function(t){return t.dist}).dist;k.a.forEach(a,function(t){t.cx*=o,t.cy*=o})}return a},updateNodes:function(){this.nodes=this.makeNodeData()},getDimensionData:function(t){return k.a.find(this.dimensions,function(e){return e.uid===t})},getActiveDimensionSize:function(){return k.a.filter(this.dimensions,function(t){return t.usage}).length},getDimensionByName:function(t){return k.a.find(this.dimensions,function(e){return e.name===t})},initDimensions:function(){var t=this.raw,e=k.a.keys(t[0]),n=k.a.chain(e).map(function(e,n){var i={type:Number,usage:!0};if(k.a.forEach(t,function(t){k.a.isNaN(1*t[e])&&(i.type=String,i.usage=!1)}),i.type!==Number)return null;var s,a,o,r=k.a.map(t,function(t){return 1*t[e]});return i.min=k.a.minBy(r),i.values=r,i.max=k.a.maxBy(r),i.sigma=(s=r,a=k.a.map(s,function(t){return 1*t}),o=k.a.sum(a)/a.length,Math.sqrt(k.a.sum(k.a.map(a,function(t){return(t-o)*(t-o)/a.length})))),i.mean=k.a.sum(r)/r.length,i.text=e,i.name=e,i.x=0,i.y=0,i.calcurate="Normal",i.getRatio=function(t){return(t-i.min)/(i.max-i.min)},i.getRatio2=function(t){return t/i.max},i.getNormalizeValue=function(t){return i.getRatio2(t)},i.uid=C()(),i.selected=!1,i}).filter(function(t){return null!==t}).value();k.a.forEach(n,function(t){var e={};k.a.forEach(n,function(n){var i=b()(t.values,n.values);e[n.name]=i[0][1]}),t.correlation=e}),k.a.forEach(n,function(t,e){var i=e/n.length*360,s=A(i,400);t.x=s.x,t.y=s.y,t.angle=i}),this.dimensions=n,this.makeClusterCount=Math.floor(Math.sqrt(n.length)),this.selectDimension=n[0]},onSelectFileButton:function(){var t=this,e=x("#fileInput");e.trigger("click"),e.on("change",function(e){var n=e.target.files[0],i=new FileReader;i.addEventListener("load",function(){var e=D.a.toObject(i.result);t.raw=e,t.initDimensions(),t.updateNodes(),t.render()}),i.readAsText(n)})},render:function(){var t=this;return d()(u.a.mark(function e(){var n,i,s,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(1e3);case 2:n=null,i=t,s=g.h("g.dimension"),a=g.a().on("start",function(){n=i.getDimensionData(g.g(this).attr("uid")),i.selectDimension=n,n.selected=!0}).on("drag",function(){var t=E({x:g.b.x,y:g.b.y}),e=A(t,400);n.angle=t,n.x=e.x,n.y=e.y}).on("end",function(){n.selected=!1,n=null,i.updateNodes()}),s.call(a);case 7:case"end":return e.stop()}},e,t)}))()}}},B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section"},[n("input",{attrs:{type:"file",id:"fileInput"}}),n("div",{staticClass:"graph-field"},[n("div",{staticClass:"selection-dimension-group"},[n("div",{staticClass:"command",on:{click:t.onSelectFileButton}},[t._v("Generate RADVIS from csv file")]),n("div",{staticClass:"category"},[t._v("Color")]),n("div",{staticClass:"flex-group"},[n("div",{staticClass:"flex-name large"},[t._v("Dimension FontSize")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dimensionFontSize,expression:"dimensionFontSize"}],attrs:{type:"number"},domProps:{value:t.dimensionFontSize},on:{input:function(e){e.target.composing||(t.dimensionFontSize=e.target.value)}}})]),n("div",{staticClass:"flex-group"},[n("div",{staticClass:"flex-name"},[t._v("High Color")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.color.end.hex,expression:"color.end.hex"}],attrs:{type:"color"},domProps:{value:t.color.end.hex},on:{change:t.updateNodes,input:function(e){e.target.composing||t.$set(t.color.end,"hex",e.target.value)}}})]),n("div",{staticClass:"flex-group"},[n("div",{staticClass:"flex-name"},[t._v("Low Color")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.color.start.hex,expression:"color.start.hex"}],attrs:{type:"color"},domProps:{value:t.color.start.hex},on:{input:function(e){e.target.composing||t.$set(t.color.start,"hex",e.target.value)}}})]),n("div",{staticClass:"category-end"}),n("div",{staticClass:"category"},[t._v("Selected Dimension")]),t.isSelectedDimension?n("div",{staticClass:"group-info"},[n("div",{staticClass:"flex-group"},[n("div",{staticClass:"flex-name"},[t._v("NAME")]),n("div",{staticClass:"flex-text"},[t._v(": "+t._s(t.selectDimension.name))])]),n("div",{staticClass:"flex-group"},[n("div",{staticClass:"flex-name"},[t._v("ANGLE")]),n("div",{staticClass:"flex-text"},[t._v(": "+t._s(t.selectDimension.angle.toFixed(1))+"'")])]),n("div",{staticClass:"flex-group"},[n("div",{staticClass:"flex-name"},[t._v("MIN")]),n("div",{staticClass:"flex-text"},[t._v(": "+t._s(t.selectDimension.min.toFixed(2)))])]),n("div",{staticClass:"flex-group"},[n("div",{staticClass:"flex-name"},[t._v("MAX")]),n("div",{staticClass:"flex-text"},[t._v(": "+t._s(t.selectDimension.max.toFixed(2)))])]),n("div",{staticClass:"flex-group"},[n("div",{staticClass:"flex-name"},[t._v("SIGMA")]),n("div",{staticClass:"flex-text"},[t._v(": "+t._s(t.selectDimension.sigma.toFixed(2)))])]),n("div",{staticClass:"category small"},[t._v("Dimension Action")]),n("div",{staticClass:"command",on:{click:t.setColorDimensionCurrentDimension}},[t._v("Set Color Dimension")]),t.selectDimension.usage?n("div",{staticClass:"command",on:{click:function(e){t.changeDimensionUsage(t.selectDimension)}}},[t._v("Disable Dimension")]):t._e(),t.selectDimension.usage?t._e():n("div",{staticClass:"command",on:{click:function(e){t.changeDimensionUsage(t.selectDimension)}}},[t._v("Activate Dimension")]),n("div",{staticClass:"category small"},[t._v("Node Distribution")]),n("svg",{staticClass:"distribution"})]):t._e(),n("div",{staticClass:"category-end"}),n("div",{staticClass:"category"},[t._v("Logging Field")]),n("div",{staticClass:"flex-group debug"},[n("div",{staticClass:"flex-name"},[t._v("isSelect Dimension")]),n("div",{staticClass:"flex-text"},[t._v(": "+t._s(t.isSelectedDimension))])]),n("div",{staticClass:"flex-group debug"},[n("div",{staticClass:"flex-name"},[t._v("Start Color")]),n("div",{staticClass:"flex-text"},[t._v(": "+t._s(t.color.start.hex))])]),n("div",{staticClass:"flex-group debug"},[n("div",{staticClass:"flex-name"},[t._v("End Color")]),n("div",{staticClass:"flex-text"},[t._v(": "+t._s(t.color.end.hex))])]),n("div",{staticClass:"flex-group debug"},[n("div",{staticClass:"flex-name"},[t._v("Color Std Dimension")]),n("div",{staticClass:"flex-text"},[t._v(": "+t._s(t.colorDimension.text))])]),n("div",{staticClass:"flex-group debug"},[n("div",{staticClass:"flex-name"},[t._v("Dimension Cluster Size")]),n("div",{staticClass:"flex-text"},[t._v(": "+t._s(t.clusters.length))])])]),n("div",{staticClass:"svg-group"},[n("svg",{staticClass:"radvis"},[n("g",{staticClass:"gBackground",attrs:{transform:t.getRadvisCenterTransform}},[n("circle",{attrs:{cx:"0",cy:"0",r:"400",fill:"none",stroke:"#333","stroke-dasharray":"3,6"}})]),n("g",{staticClass:"gDimensions",attrs:{transform:t.getRadvisCenterTransform}},[t._l(t.dimensions,function(e){return[n("g",{staticClass:"dimension",class:{selection:t.selectDimension===e,disable:!e.usage},attrs:{transform:"translate("+e.x+","+e.y+")",uid:e.uid}},[n("g",{attrs:{transform:t.getDimensionGroupAngle(e.angle)}},[n("text",{staticClass:"dimension",attrs:{transform:t.getDimensionTextTransform(e.angle),"alignment-baseline":"middle","font-size":t.dimensionFontSize}},[t._v(t._s(e.text))])]),n("circle",{staticClass:"inner"}),n("circle",{staticClass:"dimension-normal",attrs:{r:e.selected?12:8}}),e===t.colorDimension?n("rect",{attrs:{width:"8px",height:"8px",x:"35px",y:"-35px",transform:"rotate("+(e.angle+45)+")",fill:t.color.end.hex,stroke:"none"}}):t._e(),e===t.colorDimension?n("rect",{attrs:{width:"8px",height:"8px",x:"25px",y:"-45px",transform:"rotate("+(e.angle+45)+")",fill:t.color.start.hex,stroke:"none"}}):t._e()])]})],2),n("g",{staticClass:"gNodes",attrs:{transform:t.getRadvisCenterTransform}},[t._l(t.nodes,function(e){return[n("circle",t._b({staticClass:"node"},"circle",e,!1))]})],2)])]),n("div",{staticClass:"side-view"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.fillRadvis,expression:"fillRadvis"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.fillRadvis)?t._i(t.fillRadvis,null)>-1:t.fillRadvis},on:{change:[function(e){var n=t.fillRadvis,i=e.target,s=!!i.checked;if(Array.isArray(n)){var a=t._i(n,null);i.checked?a<0&&(t.fillRadvis=n.concat([null])):a>-1&&(t.fillRadvis=n.slice(0,a).concat(n.slice(a+1)))}else t.fillRadvis=s},t.onFillRadvis]}}),n("div",{staticClass:"flex-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.makeClusterCount,expression:"makeClusterCount"}],staticClass:"cluster-number",attrs:{type:"number"},domProps:{value:t.makeClusterCount},on:{input:function(e){e.target.composing||(t.makeClusterCount=e.target.value)}}}),n("div",{staticClass:"command",on:{click:t.doClusterDimension}},[t._v("Dimension Clustering")])]),n("div",{staticClass:"category"},[t._v("Dimension Correlation")]),n("div",{staticClass:"correlation-field"},[n("div",{staticClass:"first-group"},[n("div",{staticClass:"empty-group"}),t._l(t.dimensions,function(e){return[e.usage?n("div",{staticClass:"name-horizontal"},[n("div",{staticClass:"name"},[t._v(t._s(e.name))])]):t._e()]})],2),t._l(t.dimensions,function(e){return[e.usage?n("div",{staticClass:"correlation-group",style:{height:264/t.getActiveDimensionSize()+"px"}},[n("div",{staticClass:"name-vertical"},[n("div",{staticClass:"name"},[t._v(t._s(e.name))])]),t._l(t.dimensions,function(i){return[t.getDimensionByName(i.name).usage?n("div",{staticClass:"correlation-block",style:{background:t.getCorrelationColor(e.correlation[i.name])}}):t._e()]})],2):t._e()]}),n("div",{staticClass:"correlation-group cluster"},[n("div",{staticClass:"name-vertical"}),t._l(t.clusters,function(e,i){return[t._l(e.dimensions,function(e,s){return[n("div",t._b({staticClass:"correlation-block cluster",style:{background:t.colorDimensionCluster(i,t.clusters.length)}},"div",{index:s},!1))]})]})],2)],2),n("div",{staticClass:"category"},[t._v("Dimension Clusters")]),t._l(t.clusters,function(e,i){return[n("div",{staticClass:"flex-group debug"}),n("div",{staticClass:"flex-group-dimension"},[n("div",{staticClass:"flex-cluster-color",style:{background:t.colorDimensionCluster(i,t.clusters.length)}}),n("div",{staticClass:"flex-dimension-list"},[t._l(e.dimensions,function(e){return[n("div",{staticClass:"flex-dimension",class:{selected:e===t.selectDimension.name},on:{click:function(n){t.setSelectDimension(e)}}},[t._v(t._s(e))])]})],2)])]})],2)])])},staticRenderFns:[]};var G=n("VU/8")(T,B,!1,function(t){n("k4fj")},null,null).exports;i.a.use(l.a);var I=new l.a({mode:"history",routes:[{path:"/",name:"Radvis",component:G}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:I,components:{App:r},template:"<App/>"})},k4fj:function(t,e){},xXp3:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.96e790449eafc1326261.js.map